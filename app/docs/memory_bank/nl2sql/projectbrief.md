# NL2SQL 模块项目简介

## 核心目标

NL2SQL模块是NLP-SecLogAI系统中的关键功能，旨在**将用户自然语言查询转换为SQL查询语句**，使非技术用户能够通过自然语言轻松查询安全日志数据。

## 主要需求

1. **自然语言理解**：解析用户使用自然语言（中文）描述的查询意图
2. **SQL转换**：将理解后的查询意图转换为标准SQL查询语句
3. **预处理优化**：识别时间表达式、实体名称、操作类型等关键信息
4. **回退机制**：当LLM转换失败时提供基于模式匹配的替代方案
5. **查询执行**：提供API接口执行生成的SQL并返回查询结果
6. **友好界面**：提供直观的Web界面让用户输入自然语言查询并展示结果

## 技术约束

- 使用OpenRouter API调用大型语言模型进行自然语言到SQL的转换
- 支持在无API的环境下通过模式匹配提供基本功能
- 系统必须支持中文查询处理
- 查询生成的SQL必须安全且针对SQLite优化

## 成功标准

1. 支持95%以上的常见日志查询场景
2. 对于时间表达式的理解准确率不低于90%
3. 对于实体识别（用户名、IP地址等）的准确率不低于95%
4. 系统响应时间不超过2秒（不含API调用时间）
5. 正确处理SQL注入风险 